###### 索引
- 概念: 寻找资源中特定项目的一种机制.
- 索引类型:
   1. B树索引,mysql,oracle,sql server的默认索引.
   2. 位图索引
   3. 文本索引.
- 不该创建索引列的特点
   1. 对于那些在查询中很少使用或者参考的列不应该创建索引
   2. 对于那些只有很少数据值的列也不应该增加索引.这是因为,由于这些列的取值很少,例如性别,在查询结果中,结果集数据行占了表中数据行很大的比例,即需要在表中搜索的数据行的比例很大.增加索引,并不能明显加快索引速度
   3. 对于那些定义为blob,text类型的数据列不应该增加索引.这是因为这些咧的数据量要么相当大,要么相当少
   4. 当修改性能远远大于检索性能时,不应该创建索引.
- 限制索引:开发人员经常犯的错误之一.
   1. 使用不等于操作符(<>,!=),但<,<=，=，>,>=,BETWEEN,IN是可以用到索引的.可以改成or(所有列都要加索引才会生效.)
   2. 使用IS NULL 或 IS NOT NULL 除非是位图索引
   3. 使用函数:在列上使用函数
   4. 比较不匹配的数据类型,比较难于发现的性能之一,例如  account是一个vachar类型,你却传了一个int类型的值,这样子数据库会自动to_number方法,自动限制索引的使用.
   5. 索引不会包含有NULL的列,只要列中包含有NULL值,都将不会被包含在索引中,复合索引中只要有一列含有NULL值,那么这一列对于此符合索引就是无效的.
   6. like语句操作
      一般情况下不鼓励使用like操作,如果非使用不可,注意正确的使用方式.like '%aaa%'不会使用索引,而like 'aaa%'可以使用索引
- 联合索引又叫复合索引.复合索引:mysql从左到右使用索引中的字段,一个查询可以使用索引中的一部分,但只能是最左侧部分.例如索引key(a,b,c).可以支持a|a,b|a,b,c,3种组合进行查找,但不支持bc进行查找,当最左侧字段是常量引用时,索引就十分有效.
- 例子
1. SELECT `sname` FROM `stu` WHERE `age`+10=30; 不会使用索引,因为所有索引列参与了计算
2. SELECT `sname` FROM `stu` WHERE LEFT(`date`,4) <1990;  不会使用索引,因为使用了函数运算,原理与上面相同
3. SELECT * FROM `houdunwang` WHERE `uname` LIKE'后盾%'  走索引
4. SELECT * FROM `houdunwang` WHERE `uname` LIKE "%后盾%"  不走索引
 正则表达式不使用索引,这应该很好理解,所以为什么在SQL中很难看到regexp关键字的原因
 5. 字符串与数字比较不使用索引;<br>
  a: CREATE TABLE `a` (`a` char(10));<br>
  b: EXPLAIN SELECT * FROM `a` WHERE `a`="1" -- 走索引<br>
  c: EXPLAIN SELECT * FROM `a` WHERE `a`=1 -- 不走索引
6. select * from dept where dname='xxx' or loc='xx' or deptno=45 如果条件中有or,即使其中有条件带索引也不会使用。换言之,就是要求使用的所有字段,都必须建立索引, 我们建议大家尽量避免使用or 关键字
 如果mysql估计使用全表扫描要比使用索引快,则不使用索引
